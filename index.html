<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sign Protocol Quiz</title>
    <style>
      body {
        font-family: "Poppins", Arial, sans-serif;
        background-color: #fafafa;
        margin: 0;
        padding: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
      }
      .quiz-container {
        background: #fff;
        border-radius: 12px;
        box-shadow: 0 2px 15px rgba(0, 0, 0, 0.08);
        width: 90%;
        max-width: 480px;
        padding: 25px 20px;
        margin: 20px;
        transition: all 0.3s ease-in-out;
      }
      .quiz-header {
        margin-bottom: 20px;
      }
      .question {
        font-size: 1.2em;
        margin-bottom: 15px;
      }
      .options {
        list-style: none;
        padding: 0;
      }
      .options li {
        margin-bottom: 10px;
      }
      .options li button {
        width: 100%;
        padding: 14px;
        font-size: 1em;
        border: 1px solid #ddd;
        border-radius: 8px;
        background-color: #fff;
        cursor: pointer;
        margin-bottom: 10px;
        transition: background 0.25s, transform 0.15s;
      }
      .options li button:hover {
        background-color: #fff3e0;
        transform: scale(1.02);
      }
      .btn {
        display: inline-block;
        padding: 10px 20px;
        font-size: 1em;
        border: none;
        border-radius: 5px;
        background-color: #ff7f00; /* Sign Protocol Orange */
        color: #fff;
        cursor: pointer;
        transition: background 0.3s;
      }
      .btn:hover {
        background-color: #e56c00;
      }
      .score-container {
        text-align: center;
      }

      /* ðŸ”¸ CHANGE #5: Add feedback colors */
      .correct {
        background-color: #a4e596 !important;
        border-color: #81c784;
      }
      .incorrect {
        background-color: #f28b82 !important;
        border-color: #ef5350;
      }
      /* ðŸ”¸ CHANGE #6: Media queries for smaller screens */
      @media (max-width: 480px) {
        h2 {
          font-size: 1.3em;
        }
        .quiz-container {
          padding: 20px 15px;
        }
        .question {
          font-size: 1em;
        }
        .options li button {
          font-size: 0.95em;
          padding: 12px;
        }
        .btn {
          font-size: 1em;
          padding: 12px;
        }
      }
      @media (max-width: 360px) {
        .quiz-container {
          padding: 15px 10px;
        }
        .question {
          font-size: 0.95em;
        }
      }
    </style>
  </head>
  <body>
    <div class="quiz-container" id="quiz">
      <div class="quiz-header">
        <h2>Sign Protocol Quiz</h2>
      </div>
      <div id="question-container">
        <!-- Questions will be dynamically inserted here -->
      </div>
      <div id="controls">
        <button class="btn" id="next-btn">Next</button>
      </div>
    </div>

    <script>
      const questions = [
        {
          question: "What kind of protocol is Sign Protocol?",
          options: [
            "Single-chain attestation",
            "Omni-chain attestation",
            "Centralized verification",
            "Private-only ledger",
          ],
          answer: "Omni-chain attestation",
        },
        {
          question:
            "What is Sign Protocol designed to make information on the internet?",
          options: [
            "Less opaque",
            "Verifiable and portable across blockchains",
            "Faster to hack",
            "Blockchain-specific only",
          ],
          answer: "Verifiable and portable across blockchains",
        },
        {
          question: "Which storage options does Sign Protocol support?",
          options: [
            "Fully on-chain only",
            "Fully off-chain only",
            "Hybrid, off-chain (e.g., Arweave or IPFS), or on-chain",
            "Only with centralized databases",
          ],
          answer: "Hybrid, off-chain (e.g., Arweave or IPFS), or on-chain",
        },
        {
          question:
            "What does Sign Protocol use to verify consent or signatures?",
          options: [
            "Proof-of-Work",
            "Digital signatures and zero-knowledge proofs",
            "Plain text passwords",
            "Centralized authorities",
          ],
          answer: "Digital signatures and zero-knowledge proofs",
        },
        {
          question:
            "Which of the following is a Sign Protocol product for token distribution and airdrops?",
          options: ["SignPass", "TokenTable", "EthSign Doc", "SignLedger"],
          answer: "TokenTable",
        },
        {
          question:
            "Is Sign Protocol dependent on a specific blockchain like only Ethereum or EVM-based chains?",
          options: [
            "Yes, only Ethereum",
            "Yes, only EVM based chains",
            "No, it's independent / omni-chain",
            "Only works on Layer 2s",
          ],
          answer: "No, it's independent / omni-chain",
        },
        {
          question: "How many SIGN tokens are there total (total supply)?",
          options: ["1 billion", "5 billion", "10 billion", "100 million"],
          answer: "10 billion",
        },
        {
          question:
            "What is the name of Sign Protocolâ€™s legally compliant signature product?",
          options: ["CertSign", "EthSign", "LegalSign", "SignProof"],
          answer: "EthSign",
        },
        {
          question:
            "Which off-chain storage options are used by Sign Protocol?",
          options: [
            "Dropbox or Google Drive",
            "Only IPFS",
            "Arweave and IPFS",
            "No off-chain storage allowed",
          ],
          answer: "Arweave and IPFS",
        },
        {
          question:
            "Which principle is *not* one of Sign Protocolâ€™s guiding philosophies?",
          options: [
            "Simplicity (â€œKeep It Simple, Signerâ€)",
            "Adaptability (â€œImprovise. Adapt. Excelâ€)",
            "Centralization",
            "Openness (â€œOpen Protocolâ€)",
          ],
          answer: "Centralization",
        },
        {
          question: "What is Sign Protocolâ€™s main goal?",
          options: [
            "To create a new blockchain from scratch",
            "To enable verifiable attestations in Web3 across chains",
            "To replace all smart contracts",
            "To build a social media platform",
          ],
          answer: "To enable verifiable attestations in Web3 across chains",
        },
      ];

      let currentQuestionIndex = 0;
      let score = 0;
      let shuffledQuestions = [];

      const questionContainer = document.getElementById("question-container");
      const nextBtn = document.getElementById("next-btn");

      function shuffleArray(arr) {
        // Fisher-Yates shuffle
        for (let i = arr.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [arr[i], arr[j]] = [arr[j], arr[i]];
        }
        return arr;
      }

      function startQuiz() {
        shuffledQuestions = shuffleArray([...questions]);
        currentQuestionIndex = 0;
        score = 0;
        showQuestion();
      }

      function showQuestion() {
        const q = shuffledQuestions[currentQuestionIndex];
        questionContainer.innerHTML = `
        <div class="question">${q.question}</div>
        <ul class="options">
          ${shuffleArray([...q.options])
            .map(
              (opt) => `
            <li><button class="option-btn">${opt}</button></li>
          `
            )
            .join("")}
        </ul>
      `;

        const optionButtons = document.querySelectorAll(".option-btn");
        optionButtons.forEach((btn) => {
          btn.addEventListener("click", () => {
            if (btn.innerText === q.answer) {
              score++;
            }
            // disable all buttons
            optionButtons.forEach((b) => (b.disabled = true));
            // highlight correct/incorrect
            btn.style.backgroundColor =
              btn.innerText === q.answer ? "#a4e596" : "#f28b82";
            // find the correct one and mark it
            optionButtons.forEach((b) => {
              if (b.innerText === q.answer) {
                b.style.backgroundColor = "#a4e596";
              }
            });
          });
        });

        if (currentQuestionIndex === shuffledQuestions.length - 1) {
          nextBtn.innerText = "Finish";
        } else {
          nextBtn.innerText = "Next";
        }
      }

      nextBtn.addEventListener("click", () => {
        const optionButtons = document.querySelectorAll(".option-btn");
        // if no option selected, do nothing
        const anyDisabled = [...optionButtons].some((b) => b.disabled);
        if (!anyDisabled) {
          alert("Please select an option.");
          return;
        }
        currentQuestionIndex++;
        if (currentQuestionIndex < shuffledQuestions.length) {
          showQuestion();
        } else {
          showScore();
        }
      });

      function showScore() {
        questionContainer.innerHTML = `
        <div class="score-container">
          <h3>Your Score: ${score} / ${shuffledQuestions.length}</h3>
          <button class="btn" id="restart-btn">Restart Quiz</button>
        </div>
      `;
        document
          .getElementById("restart-btn")
          .addEventListener("click", startQuiz);
        nextBtn.style.display = "none";
      }

      // initialize
      startQuiz();
    </script>
  </body>
</html>
